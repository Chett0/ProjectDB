<div class="admin-page">
  <app-header></app-header>
  <main class="container">
    <section class="page-header">
      <h2>Dashboard Amministratore</h2>
      <p class="subtitle">Gestisci compagnie aeree e monitora le performance del sistema</p>
    </section>

    <section class="controls">
      <div class="tabs" [style.position]="'relative'">
        <div class="tabs-indicator" [ngStyle]="{ left: (activeTab * 33.3333) + '%', width: '33.3333%' }"></div>
        <button class="tab" [class.active]="activeTab===0" (click)="activeTab=0">Gestione Compagnie</button>
        <button class="tab" [class.active]="activeTab===1" (click)="activeTab=1">Aggiungi Compagnia</button>
        <button class="tab" [class.active]="activeTab===2" (click)="activeTab=2">Gestione Utenti</button>
      </div>
    </section>

    <section class="companies">
      <div class="companies-card">
        <div class="companies-header">
          <h3 *ngIf="activeTab===0 || activeTab===1">Compagnie Aeree Registrate</h3>
          <h3 *ngIf="activeTab===2">Gestione Utenti</h3>
          <input *ngIf="activeTab===0" class="search" placeholder="Cerca compagnia..." />
        </div>

        <!-- compagnie -->
        <ul class="company-list" *ngIf="activeTab===0">
          <li class="company-item" *ngFor="let airline of airlines">
            <div class="logo-pill">{{ airline.code ? airline.code : (airline.name ? (airline.name | slice:0:2 | uppercase) : '--') }}</div>
            <div class="company-info">
              <div class="name">{{ airline.name }}</div>
            </div>
            <div class="company-meta"></div>
          </li>
        </ul>

        <!-- aggiungi -->
        <div class="add-card" *ngIf="activeTab===1">
          <h3>+ Aggiungi Nuova Compagnia Aerea</h3>
          <p class="muted">Registra una nuova compagnia aerea nel sistema</p>

          <div class="form-row">
            <label>Nome Compagnia</label>
            <input [(ngModel)]="airlineName" placeholder="Es. Ryanair" />
          </div>

          <div class="form-row two-cols">
            <div>
              <label>Codice IATA</label>
              <input [(ngModel)]="airlineCode" placeholder="Es. RYA" />
            </div>
            <div>
              <label>Email di Contatto</label>
              <input [(ngModel)]="airlineEmail" placeholder="contatti@compagnia.com" />
            </div>
          </div>

          <div class="form-actions">
            <button class="btn" (click)="addAirline()"><span style="margin-right:8px">+</span> Aggiungi Compagnia</button>
            <div class="feedback" *ngIf="feedbackMsg" [class.error]="feedbackType==='error'" [class.success]="feedbackType==='success'">{{feedbackMsg}}</div>
          </div>
        </div>

        <!-- Gestione utenti/compagnie -->
        <div class="add-card" *ngIf="activeTab===2">
          <h3>Gestione Utenti</h3>
          <p class="muted">Elimina/Riattiva un utente o una compangia inserendo la sua email</p>

          <div class="form-row">
            <label>Email Utente</label>
            <input [(ngModel)]="deleteEmail" placeholder="utente@esempio.com" />
          </div>

          <div class="form-actions">
            <button class="btn danger" (click)="deleteUserByEmail()">Elimina Utente</button>
            <button class="btn" style="margin-left:8px" (click)="reactivateUserByEmail()">Riattiva Utente</button>
            <div class="feedback" *ngIf="feedbackMsg" [class.error]="feedbackType==='error'" [class.success]="feedbackType==='success'">{{feedbackMsg}}</div>
          </div>
        </div>

      </div>
    </section>
  </main>

  <app-footer></app-footer>
</div>
							