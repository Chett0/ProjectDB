<div class="admin-page">
		<header class="topbar">
			<div class="topbar-inner">
				<div class="brand">
					<img src="/assets/plane-logo.png" alt="logo" class="logo" />
					<h1>Project DB</h1>
				</div>
				<nav class="top-actions">
					<button class="btn icon-only" aria-label="companies">Admin Area</button>
					<button class="logout-btn" title="Logout" (click)="onLogout()">
						<svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						  <path d="M16 17L21 12L16 7" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
						  <path d="M21 12H9" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
						  <path d="M9 5H6A2 2 0 0 0 4 7V17A2 2 0 0 0 6 19H9" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
						</svg>
					</button>
				</nav>
			</div>
		</header>

	<main class="container">
		<section class="page-header">
			<h2>Dashboard Amministratore</h2>
			<p class="subtitle">Gestisci compagnie aeree e monitora le performance del sistema</p>
		</section>

		<section class="stats">
			<div class="stat-card">
				<small>Compagnie Aeree</small>
				<div class="big">{{ airlinesCount }}</div>
			</div>
			<div class="stat-card">
				<small>Passeggeri Totali</small>
				<div class="big">{{ passengersCount }}</div>
				</div>
			<div class="stat-card">
				<small>Voli Totali</small>
				<div class="big">{{ flightsCount }}</div>
			</div>
			<div class="stat-card">
				<small>Numero Tratte</small>
				<div class="big">{{ routesCount }}</div>
			</div>
		</section>

					<section class="controls">
						<div class="tabs" [style.position]="'relative'">
							<div class="tabs-indicator" [ngStyle]="{
								left: (activeTab * 50) + '%',
								width: '50%'
							}"></div>
							<button class="tab" [class.active]="activeTab===0" (click)="activeTab=0">Gestione Compagnie</button>
							<button class="tab" [class.active]="activeTab===1" (click)="activeTab=1">Aggiungi Compagnia</button>
						</div>
					</section>

		<section class="companies">
				<div class="companies-card">
				<div class="companies-header">
					<h3>Compagnie Aeree Registrate</h3>
						<input *ngIf="activeTab===0" class="search" placeholder="Cerca compagnia..." />
				</div>

					<!-- GESTIONE TAB -->
					<ul class="company-list" *ngIf="activeTab===0">
					<li class="company-item" *ngFor="let airline of airlines">
						<div class="logo-pill">{{ airline.code ? airline.code : (airline.name ? (airline.name | slice:0:2 | uppercase) : '--') }}</div>
						<div class="company-info">
							<div class="name">{{ airline.name }}</div>
							<div class="country">{{ airline.email }}</div>
						</div>
						<div class="company-meta">
							<!-- <div class="meta-numbers">-<br/><small>Tratte</small></div>
							<div class="meta-numbers">-<br/><small>Aerei</small></div> -->
							<button class="btn danger">Elimina</button>
						</div>
					</li>
						</ul>

						<!-- AGGIUNGI TAB -->
						<div class="add-card" *ngIf="activeTab===1">
							<h3>+ Aggiungi Nuova Compagnia Aerea</h3>
							<p class="muted">Registra una nuova compagnia aerea nel sistema</p>

							<div class="form-row">
								<label>Nome Compagnia</label>
								<input [(ngModel)]="airlineName" placeholder="Es. Ryanair" />
							</div>

							<div class="form-row two-cols">
								<div>
									<label>Codice IATA</label>
									<input [(ngModel)]="airlineCode" placeholder="Es. RYA" />
								</div>
								<div>
									<label>Email di Contatto</label>
									<input [(ngModel)]="airlineEmail" placeholder="contatti@compagnia.com" />
								</div>
							</div>

							<div class="form-row two-cols">
								<div>
									<label>Password</label>
									<input type="password" [(ngModel)]="airlinePassword" placeholder="Password" />
								</div>
								<div>
									<label>Conferma Password</label>
									<input type="password" [(ngModel)]="airlineConfirmPassword" placeholder="Conferma Password" />
								</div>
							</div>

							<div class="form-actions">
								<button class="btn" (click)="addAirline()"><span style="margin-right:8px">+</span> Aggiungi Compagnia</button>
                <div class="feedback" *ngIf="feedbackMsg" [class.error]="feedbackType==='error'" [class.success]="feedbackType==='success'">{{feedbackMsg}}</div>
							</div>
						</div>
			</div>
		</section>
	</main>
</div>

